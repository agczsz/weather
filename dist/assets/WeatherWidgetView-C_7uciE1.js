import{W as g,u as x,a as b,D as w,E as T}from"./WeatherApi-kyABx2lW.js";import{i as z,c as a,d as N,u as D,P as O,r as F,a as V,b as B,o as m,e as q,w as h,f as i,g as y,t as c,n as E,h as u,j as L,k as A,p as M,l as P,W as G}from"./index-CtjEFLXh.js";var U={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function Z(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function H(o,l,t){var e=typeof l.fill=="string"?[l.fill]:l.fill||[],s=[],r=l.theme||t.theme;switch(r){case"outline":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push("none"),s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push("none");break;case"filled":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push("#FFF"),s.push("#FFF");break;case"two-tone":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[1]=="string"?e[1]:t.colors.twoTone.twoTone),s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[1]=="string"?e[1]:t.colors.twoTone.twoTone);break;case"multi-color":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[1]=="string"?e[1]:t.colors.multiColor.outFillColor),s.push(typeof e[2]=="string"?e[2]:t.colors.multiColor.innerStrokeColor),s.push(typeof e[3]=="string"?e[3]:t.colors.multiColor.innerFillColor);break}return{size:l.size||t.size,strokeWidth:l.strokeWidth||t.strokeWidth,strokeLinecap:l.strokeLinecap||t.strokeLinecap,strokeLinejoin:l.strokeLinejoin||t.strokeLinejoin,colors:s,id:o}}var $=Symbol("icon-context");function J(o,l,t){var e={name:"icon-"+o,props:["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","spin"],setup:function(r){var f=Z(),n=z($,U);return function(){var C=r.size,d=r.strokeWidth,k=r.strokeLinecap,_=r.strokeLinejoin,W=r.theme,S=r.fill,j=r.spin,I=H(f,{size:C,strokeWidth:d,strokeLinecap:k,strokeLinejoin:_,theme:W,fill:S},n),v=[n.prefix+"-icon"];return v.push(n.prefix+"-icon-"+o),l&&n.rtl&&v.push(n.prefix+"-icon-rtl"),j&&v.push(n.prefix+"-icon-spin"),a("span",{class:v.join(" ")},[t(I)])}}};return e}const K=J("local-two",!1,function(o){return a("svg",{width:o.size,height:o.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M24 44C24 44 39 32 39 19C39 10.7157 32.2843 4 24 4C15.7157 4 9 10.7157 9 19C9 32 24 44 24 44Z",fill:o.colors[1],stroke:o.colors[0],"stroke-width":o.strokeWidth,"stroke-linejoin":o.strokeLinejoin},null),a("path",{d:"M24 25C27.3137 25 30 22.3137 30 19C30 15.6863 27.3137 13 24 13C20.6863 13 18 15.6863 18 19C18 22.3137 20.6863 25 24 25Z",fill:o.colors[3],stroke:o.colors[2],"stroke-width":o.strokeWidth,"stroke-linejoin":o.strokeLinejoin},null)])}),p=o=>(M("data-v-3b410de0"),o=o(),P(),o),Q={class:"root"},R={key:0},X={key:1,class:"p-2"},Y={class:"flex flex-col gap-3"},ee={class:"flex items-baseline gap-1"},te={class:"temp"},oe=p(()=>i("span",null,"℃",-1)),se={class:"flex gap-3"},ie={class:"windScale flex gap-1 items-center"},ne={class:"flex gap-1 items-center"},le={class:"w-full flex gap-2 justify-evenly text-sm"},re={class:"windScale flex flex-col items-center"},ae=p(()=>i("div",{class:"text-lg"},[i("i",{class:"qi-2208"})],-1)),ce={class:"windSpeed flex flex-col items-center"},de=p(()=>i("div",{class:"text-lg"},[i("i",{class:"qi-1018"})],-1)),ue={class:"windScale flex flex-col items-center"},he=p(()=>i("div",{class:"text-lg"},[i("i",{class:"qi-1702"})],-1)),pe={class:"humidity flex flex-col items-center"},fe=p(()=>i("div",{class:"text-lg"},[i("i",{class:"qi-1036"})],-1)),_e=N({__name:"WeatherWidgetView",setup(o){D(n=>({"7bd00dd4":e.value})),O(G,{onDataLoaded(){f()}});const l=F(""),t=F(),e=V(()=>{var n;return g.getBackgroundColor(((n=t.value)==null?void 0:n.icon)??"")}),s=x("locationId",w.id),r=x("selectLocation",w);function f(){g.getHourly(s.value).then(n=>{n.code==0?t.value=n.data.hourly[0]:l.value=n.message}).catch(n=>{n.message&&(l.value=n.message)})}return b(()=>{f()},60*60*1e3),(n,C)=>{const d=T,k=B("widget-wrapper");return m(),q(k,null,{default:h(()=>{var _;return[i("div",Q,[l.value?(m(),y("div",R,c(l.value),1)):t.value?(m(),y("div",X,[i("div",Y,[i("div",ee,[i("div",te,c(t.value.temp),1),oe]),i("div",se,[i("div",ie,[i("i",{class:E(`qi-${(_=t.value)==null?void 0:_.icon}`)},null,2),u(" "+c(t.value.text),1)]),i("span",ne,[a(L(K)),u(c(L(r).name),1)])]),i("div",le,[a(d,{content:"风力等级"},{default:h(()=>[i("div",re,[ae,u(" "+c(t.value.windScale),1)])]),_:1}),a(d,{content:"风速"},{default:h(()=>[i("div",ce,[de,u(" "+c(t.value.windSpeed),1)])]),_:1}),a(d,{content:"风向"},{default:h(()=>[i("div",ue,[he,u(" "+c(t.value.windDir),1)])]),_:1}),a(d,{content:"湿度"},{default:h(()=>[i("div",pe,[fe,u(" "+c(t.value.humidity),1)])]),_:1})])])])):A("",!0)])]}),_:1})}}}),ve=(o,l)=>{const t=o.__vccOpts||o;for(const[e,s]of l)t[e]=s;return t},Ce=ve(_e,[["__scopeId","data-v-3b410de0"]]);export{Ce as default};
